<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard - Chat Histories</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="icon" type="image/png" href="https://www.anbg.online/assets/logo/logo.png"/>
<style>
  * {margin:0;padding:0;box-sizing:border-box;}
  body {font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif; background:#f8fafc;color:#1a202c;line-height:1.6;}
  .sidebar {position:fixed;left:0;top:0;width:250px;height:100vh;background:#fff;border-right:1px solid #e2e8f0;padding:20px 0;z-index:100;}
  .logo {padding:0 20px 30px;font-size:18px;font-weight:600;color:#2d3748;border-bottom:1px solid #e2e8f0;margin-bottom:20px;}
  .nav-menu {list-style:none;}
  .nav-item {margin-bottom:5px;}
  .nav-link {display:flex;align-items:center;padding:12px 20px;color:#718096;text-decoration:none;font-size:14px;transition:all 0.2s;}
  .nav-link:hover,.nav-link.active {background:#f7fafc;color:#2d3748;border-right:3px solid #3182ce;}
  .nav-link::before {content:'';width:16px;height:16px;margin-right:12px;background-size:contain;}
  .nav-link.dashboard::before{content:'';} .nav-link.chat::before{content:'';} .nav-link.users::before{content:'';} .nav-link.settings::before{content:'';}
  .main-content {margin-left:250px;min-height:100vh;}
  .header {background:#fff;padding:20px 30px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center;}
  .page-title {font-size:24px;font-weight:600;color:#2d3748;}
  .page-subtitle {color:#718096;font-size:14px;margin-top:4px;}
  .connect-wallet {background:#2d3748;color:#fff;padding:10px 20px;border:none;border-radius:8px;font-size:14px;cursor:pointer;transition:background 0.2s;}
  .connect-wallet:hover {background:#4a5568;}
  .content {padding:30px;}
  .stats-grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px;}
  .stat-card {background:#fff;padding:20px;border-radius:12px;border:1px solid #e2e8f0;transition:box-shadow 0.2s;}
  .stat-card:hover {box-shadow:0 4px 12px rgba(0,0,0,0.05);}
  .stat-label {font-size:12px;color:#718096;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px;}
  .stat-value {font-size:24px;font-weight:700;color:#2d3748;margin-bottom:4px;}
  .stat-change {font-size:12px;color:#38a169;}
  .charts-container {display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:30px;}
  .chart-card {background:#fff;padding:25px;border-radius:12px;border:1px solid #e2e8f0;display:flex;flex-direction:column;align-items:center;}
  .chart-header {display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;width:100%;}
  .chart-title {font-size:16px;font-weight:600;color:#2d3748;}
  .chart-canvas {width:150px !important;height:150px !important;}
  .conversations-section {background:#fff;border-radius:12px;border:1px solid #e2e8f0;overflow:hidden;margin-top:30px;}
  .section-header {padding:20px 25px;border-bottom:1px solid #e2e8f0;display:flex;justify-content:space-between;align-items:center;}
  .section-title {font-size:18px;font-weight:600;color:#2d3748;}
  .refresh-btn {background:#3182ce;color:#fff;padding:8px 16px;border:none;border-radius:6px;font-size:12px;cursor:pointer;transition:background 0.2s;}
  .refresh-btn:hover {background:#2c5282;}
  .conversation-item {padding:20px 25px;border-bottom:1px solid #f7fafc;transition:background 0.2s;}
  .conversation-item:hover {background:#f7fafc;}
  .conversation-item:last-child {border-bottom:none;}
  .conversation-header {display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;}
  .session-id {font-size:14px;font-weight:600;color:#2d3748;}
  .conversation-date {font-size:12px;color:#718096;}
  .message-preview {font-size:14px;color:#4a5568;line-height:1.5;}
  .market-stats {display:flex;justify-content:space-between;padding:15px 25px;background:#f7fafc;font-size:12px;color:#718096;}
  #map {width:100%;height:300px;border-radius:12px;margin-top:30px;border:1px solid #e2e8f0;}
  @media(max-width:768px){.sidebar{transform:translateX(-100%);}.main-content{margin-left:0;}.charts-container{grid-template-columns:1fr;}.stats-grid{grid-template-columns:1fr;}}
</style>
</head>
<body>
<div class="sidebar">
  <div class="logo">Chat Analytics</div>
  <ul class="nav-menu">
    <li class="nav-item"><a href="#" class="nav-link dashboard active">Dashboard</a></li>
    <li class="nav-item"><a href="#conversations" class="nav-link chat">Conversations</a></li>
    <li class="nav-item"><a href="#charts-escalier-section" class="nav-link users">Information</a></li>
    <li class="nav-item"><a href="index.html" class="nav-link settings">Retour au menu</a></li>
  </ul>
</div>

<div class="main-content">
  <div class="header">
    <div>
      <div class="page-title">Dashboard</div>
      <div class="page-subtitle">Analyse des conversations IA</div>
    </div>
    <button class="connect-wallet"><span class="status-indicator"></span>Connecté</button>
  </div>

  <div class="content">
    <div class="stats-grid">
      <div class="stat-card"><div class="stat-label">Total Conversations</div><div class="stat-value">127</div><div class="stat-change">+12% ce mois</div></div>
      <div class="stat-card"><div class="stat-label">Messages Aujourd'hui</div><div class="stat-value">24</div><div class="stat-change">+5.2% vs hier</div></div>
      <div class="stat-card"><div class="stat-label">Sessions Actives</div><div class="stat-value">8</div><div class="stat-change">En cours</div></div>
      <div class="stat-card"><div class="stat-label">Taux de Réponse</div><div class="stat-value">98.5%</div><div class="stat-change">Moyenne</div></div>
    </div>

    <div class="charts-container">
      <div class="chart-card">
        <div class="chart-header"><div class="chart-title">Taux de Réponse</div></div>
        <canvas id="responseChart" class="chart-canvas"></canvas>
      </div>
      <div class="chart-card">
        <div class="chart-header"><div class="chart-title">Utilisation API</div></div>
        <canvas id="apiChart" class="chart-canvas"></canvas>
      </div>
    </div>

    <div class="conversations-section" id="conversations">
      <div class="section-header"><div class="section-title">Conversations Récentes</div><button class="refresh-btn">🔄 Actualiser</button></div>

      <!-- Messages récents -->
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_abc123</div><div class="conversation-date">28 août 2025, 14:32</div></div><div class="message-preview">Bonjour ! Comment allez-vous aujourd'hui ? Je cherche des conseils pour mon orientation professionnelle...</div></div>
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_def456</div><div class="conversation-date">28 août 2025, 13:15</div></div><div class="message-preview">Pouvez-vous m'expliquer le rôle de l'ANBG au Gabon ?</div></div>
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_ghi789</div><div class="conversation-date">28 août 2025, 12:08</div></div><div class="message-preview">J'aimerais connaitre le processus de candidature pour les bourses ANBG.</div></div>
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_jkl012</div><div class="conversation-date">28 août 2025, 11:45</div></div><div class="message-preview">Comment puis-je ouvrir un compte ebourse...</div></div>
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_mno345</div><div class="conversation-date">28 août 2025, 10:20</div></div><div class="message-preview">Quelles sont les meilleures pratiques pour etudier efficacement à distance ?</div></div>
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_pqr678</div><div class="conversation-date">28 août 2025, 09:33</div></div><div class="message-preview">Help ! Mon site web est lent. Comment optimiser les performances et améliorer le SEO ?</div></div>
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_stu901</div><div class="conversation-date">27 août 2025, 16:12</div></div><div class="message-preview">Je veux migrer vers le cloud. Quels sont les avantages et inconvénients d'AWS vs Azure ?</div></div>
      <div class="conversation-item"><div class="conversation-header"><div class="session-id">Session: session_vwx234</div><div class="conversation-date">27 août 2025, 14:55</div></div><div class="message-preview">Comment gérer une équipe en télétravail efficacement ? J'ai besoin de conseils pratiques...</div></div>

      <div class="market-stats"><span>© 2025 Chat Analytics</span><span>Dernière mise à jour: 14:35:22</span></div>
    </div>

    <h3 style="margin-top:40px; text-align: center;">Localisation ANBG - Oloumi</h3>
    <div class="map-container" style="display: flex; justify-content: center; align-items: center; margin-top: 10px;">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1249.3899550721735!2d9.462188369620247!3d0.3682663999767641!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x107f3ea9eb4f38e9%3A0xec2bad7393a3fb84!2sAgence%20Nationale%20des%20Bourses%20du%20Gabon!5e1!3m2!1sfr!2sga!4v1756777298036!5m2!1sfr!2sga" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Section Graphiques en Escalier -->
<div id="charts-escalier-section" class="charts-escalier-section">
    <h2 style="margin-bottom:20px; color:#2d3748; text-align: center;">Analyse des Données - Graphiques en Escalier</h2>
    <canvas id="escalierChart" style="background:white; border-radius:12px; padding:20px;"></canvas>
</div>

<script>
const ctx = document.getElementById('escalierChart').getContext('2d');

const escalierChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: ['Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi','Dimanche'],
        datasets: [{
            label: 'Activité Utilisateurs',
            data: [10, 20, 15, 25, 30, 28, 35],
            borderColor: '#3182ce',
            backgroundColor: 'rgba(49,130,206,0.1)',
            fill: true,
            stepped: true, // ceci crée l'effet escalier
            tension: 0
        },
        {
            label: 'Utilisation API',
            data: [5, 10, 8, 15, 20, 18, 22],
            borderColor: '#38a169',
            backgroundColor: 'rgba(56,161,105,0.1)',
            fill: true,
            stepped: true,
            tension: 0
        }]
    },
    options: {
        responsive: true,
        plugins: {
            tooltip: {
                enabled: true,
                mode: 'index',
                intersect: false
            },
            legend: {
                position: 'top'
            }
        },
        scales: {
            x: { display: true, title: { display: true, text: 'Jours de la semaine' } },
            y: { display: true, title: { display: true, text: 'Nombre d\'actions' }, beginAtZero: true }
        }
    }
});
</script>

<style>
.charts-escalier-section {
    background: white;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 30px;
    border: 1px solid #e2e8f0;
}
</style>


<script>
const responseCtx=document.getElementById('responseChart').getContext('2d');
new Chart(responseCtx,{
  type:'doughnut',
  data:{labels:['Répondu','En attente','Non répondu'],datasets:[{data:[80,15,5],backgroundColor:['#38a169','#f6ad55','#e53e3e'],hoverOffset:10}]},
  options:{responsive:true,maintainAspectRatio:true,plugins:{tooltip:{enabled:true}}}
});

const apiCtx=document.getElementById('apiChart').getContext('2d');
new Chart(apiCtx,{
  type:'doughnut',
  data:{labels:['Utilisé','Disponible'],datasets:[{data:[65,35],backgroundColor:['#3182ce','#cbd5e0'],hoverOffset:10}]},
  options:{responsive:true,maintainAspectRatio:true,plugins:{tooltip:{enabled:true}}}
});
</script>
</body>
</html>
